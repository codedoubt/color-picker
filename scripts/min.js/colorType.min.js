function toRgbString(r,e,n){return"rgb("+Math.round(r)+", "+Math.round(e)+", "+Math.round(n)+")"}function toHslString(r,e,n){return"hsl("+Math.round(r)+", "+e+"%, "+n+"%)"}function rgbToHex(r,e,n){return"#"+[r,e,n].map(function(r){var e=r.toString(16);return 1===e.length?"0"+e:e}).join("")}function hexToRgb(r){return r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,e,n,t){return"#"+e+e+n+n+t+t}).substring(1).match(/.{2}/g).map(function(r){return parseInt(r,16)})}function rgbToHsl(r,e,n){var t,o,h,s,u,g,a,b=[];for(b[0]=r/255,b[1]=e/255,b[2]=n/255,t=b[0],o=b[0],g=0,h=0;h<b.length-1;h++)b[h+1]<=t&&(t=b[h+1]),b[h+1]>=o&&(o=b[h+1],g=h+1);return 0==g&&(a=(b[1]-b[2])/(o-t)),1==g&&(a=2+(b[2]-b[0])/(o-t)),2==g&&(a=4+(b[0]-b[1])/(o-t)),isNaN(a)&&(a=0),(a*=60)<0&&(a+=360),s=(t+o)/2,u=u=t==o?0:s<.5?(o-t)/(o+t):(o-t)/(2-o-t),[a,Math.round(100*u),Math.round(100*s)]}function hslToRgb(r,e,n){var t,o,h,s,u;return e/=100,r/=60,h=255*hueToRgb(t=2*(n/=100)-(o=n<=.5?n*(e+1):n+e-n*e),o,r+2),s=255*hueToRgb(t,o,r),u=255*hueToRgb(t,o,r-2),[Math.round(h),Math.round(s),Math.round(u)]}function hueToRgb(r,e,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?(e-r)*n+r:n<3?e:n<4?(e-r)*(4-n)+r:r}function hexToHsl(r){return rgbToHsl(hexToRgb(r)[0],hexToRgb(r)[1],hexToRgb(r)[2])}function hslToHex(r,e,n){return rgbToHex(hslToRgb(r,e,n)[0],hslToRgb(r,e,n)[1],hslToRgb(r,e,n)[2])}function colorType(r){return"#"==r[0]&&r.split("").map(function(r){return"#012345679ABCDEFabcdef".indexOf(r)>-1}).filter(function(r){}).length<=0&&r.length<=7?"hex":r.indexOf("rgb")>-1?"rgb":r.indexOf("hsl")>-1?"hsl":void 0}function changeToSelectedType(r,e,n,t){switch(r){case"hex":var o=hexToHsl(n)[0],h=hexToHsl(n)[1],s=hexToHsl(n)[2],u=hexToRgb(n)[0],g=hexToRgb(n)[1],a=hexToRgb(n)[2];switch(e){case"hsl":return toHslString(hexToHsl(n)[0],hexToHsl(n)[1],hexToHsl(n)[2]);case"rgb":return toRgbString(hexToRgb(n)[0],hexToRgb(n)[1],hexToRgb(n)[2]);case"hex":return n}break;case"rgb":var b=n.match(/[0-9]+[.]?[0-9]?[0-9]?/g).filter(function(r){return""!=r});switch(o=rgbToHsl(u=parseInt(b[0]),g=parseInt(b[1]),a=parseInt(b[2]))[0],h=rgbToHsl(u,g,a)[1],s=rgbToHsl(u,g,a)[2],e){case"rgb":return n;case"hex":return rgbToHex(u,g,a);case"hsl":return toHslString(o,h,s)}break;case"hsl":switch(b=n.match(/[0-9]+[.]?[0-9]?[0-9]?/g).filter(function(r){return""!=r}),u=hslToRgb(o=parseInt(b[0]),h=parseInt(b[1]),s=parseInt(b[2]))[0],g=hslToRgb(o,h,s)[1],a=hslToRgb(o,h,s)[2],e){case"rgb":return toRgbString(u,g,a);case"hex":return hslToHex(o,h,s);case"hsl":return n}}}